# Ruby-SDL3 : SDL3 wrapper for Ruby
#
# * https://github.com/vaiorabbit/sdl3-bindings
#
# [NOTICE] Autogenerated. Do not edit.

require 'ffi'
require_relative 'sdl3_guid'

module SDL
  extend FFI::Library
  # Define/Macro

  JOYSTICK_AXIS_MAX = 32767
  JOYSTICK_AXIS_MIN = -32768
  PROP_JOYSTICK_CAP_MONO_LED_BOOLEAN = "SDL.joystick.cap.mono_led"
  PROP_JOYSTICK_CAP_RGB_LED_BOOLEAN = "SDL.joystick.cap.rgb_led"
  PROP_JOYSTICK_CAP_PLAYER_LED_BOOLEAN = "SDL.joystick.cap.player_led"
  PROP_JOYSTICK_CAP_RUMBLE_BOOLEAN = "SDL.joystick.cap.rumble"
  PROP_JOYSTICK_CAP_TRIGGER_RUMBLE_BOOLEAN = "SDL.joystick.cap.trigger_rumble"
  HAT_CENTERED = 0x00
  HAT_UP = 0x01
  HAT_RIGHT = 0x02
  HAT_DOWN = 0x04
  HAT_LEFT = 0x08
  HAT_RIGHTUP = (HAT_RIGHT | HAT_UP)
  HAT_RIGHTDOWN = (HAT_RIGHT | HAT_DOWN)
  HAT_LEFTUP = (HAT_LEFT | HAT_UP)
  HAT_LEFTDOWN = (HAT_LEFT | HAT_DOWN)

  # Enum

  JOYSTICK_TYPE_UNKNOWN = 0
  JOYSTICK_TYPE_GAMEPAD = 1
  JOYSTICK_TYPE_WHEEL = 2
  JOYSTICK_TYPE_ARCADE_STICK = 3
  JOYSTICK_TYPE_FLIGHT_STICK = 4
  JOYSTICK_TYPE_DANCE_PAD = 5
  JOYSTICK_TYPE_GUITAR = 6
  JOYSTICK_TYPE_DRUM_KIT = 7
  JOYSTICK_TYPE_ARCADE_PAD = 8
  JOYSTICK_TYPE_THROTTLE = 9
  JOYSTICK_TYPE_COUNT = 10
  JOYSTICK_CONNECTION_INVALID = -1
  JOYSTICK_CONNECTION_UNKNOWN = 0
  JOYSTICK_CONNECTION_WIRED = 1
  JOYSTICK_CONNECTION_WIRELESS = 2

  # Typedef

  typedef :uint, :SDL_JoystickID
  typedef :int, :SDL_JoystickType
  typedef :int, :SDL_JoystickConnectionState

  # Struct

  class VirtualJoystickTouchpadDesc < FFI::Struct
    layout(
      :nfingers, :ushort,
      :padding, [:ushort, 3],
    )
  end

  class VirtualJoystickSensorDesc < FFI::Struct
    layout(
      :type, :int,
      :rate, :float,
    )
  end

  class VirtualJoystickDesc < FFI::Struct
    layout(
      :version, :uint,
      :type, :ushort,
      :padding, :ushort,
      :vendor_id, :ushort,
      :product_id, :ushort,
      :naxes, :ushort,
      :nbuttons, :ushort,
      :nballs, :ushort,
      :nhats, :ushort,
      :ntouchpads, :ushort,
      :nsensors, :ushort,
      :padding2, [:ushort, 2],
      :button_mask, :uint,
      :axis_mask, :uint,
      :name, :pointer,
      :touchpads, :pointer,
      :sensors, :pointer,
      :userdata, :pointer,
      :Update, :pointer,
      :SetPlayerIndex, :pointer,
      :Rumble, :pointer,
      :RumbleTriggers, :pointer,
      :SetLED, :pointer,
      :SendEffect, :pointer,
      :SetSensorsEnabled, :pointer,
      :Cleanup, :pointer,
    )
  end


  # Function

  def self.setup_joystick_symbols(output_error = false)
    symbols = [
      :SDL_LockJoysticks,
      :SDL_UnlockJoysticks,
      :SDL_HasJoystick,
      :SDL_GetJoysticks,
      :SDL_GetJoystickNameForID,
      :SDL_GetJoystickPathForID,
      :SDL_GetJoystickPlayerIndexForID,
      :SDL_GetJoystickGUIDForID,
      :SDL_GetJoystickVendorForID,
      :SDL_GetJoystickProductForID,
      :SDL_GetJoystickProductVersionForID,
      :SDL_GetJoystickTypeForID,
      :SDL_OpenJoystick,
      :SDL_GetJoystickFromID,
      :SDL_GetJoystickFromPlayerIndex,
      :SDL_AttachVirtualJoystick,
      :SDL_DetachVirtualJoystick,
      :SDL_IsJoystickVirtual,
      :SDL_SetJoystickVirtualAxis,
      :SDL_SetJoystickVirtualBall,
      :SDL_SetJoystickVirtualButton,
      :SDL_SetJoystickVirtualHat,
      :SDL_SetJoystickVirtualTouchpad,
      :SDL_SendJoystickVirtualSensorData,
      :SDL_GetJoystickProperties,
      :SDL_GetJoystickName,
      :SDL_GetJoystickPath,
      :SDL_GetJoystickPlayerIndex,
      :SDL_SetJoystickPlayerIndex,
      :SDL_GetJoystickGUID,
      :SDL_GetJoystickVendor,
      :SDL_GetJoystickProduct,
      :SDL_GetJoystickProductVersion,
      :SDL_GetJoystickFirmwareVersion,
      :SDL_GetJoystickSerial,
      :SDL_GetJoystickType,
      :SDL_GetJoystickGUIDInfo,
      :SDL_JoystickConnected,
      :SDL_GetJoystickID,
      :SDL_GetNumJoystickAxes,
      :SDL_GetNumJoystickBalls,
      :SDL_GetNumJoystickHats,
      :SDL_GetNumJoystickButtons,
      :SDL_SetJoystickEventsEnabled,
      :SDL_JoystickEventsEnabled,
      :SDL_UpdateJoysticks,
      :SDL_GetJoystickAxis,
      :SDL_GetJoystickAxisInitialState,
      :SDL_GetJoystickBall,
      :SDL_GetJoystickHat,
      :SDL_GetJoystickButton,
      :SDL_RumbleJoystick,
      :SDL_RumbleJoystickTriggers,
      :SDL_SetJoystickLED,
      :SDL_SendJoystickEffect,
      :SDL_CloseJoystick,
      :SDL_GetJoystickConnectionState,
      :SDL_GetJoystickPowerInfo,
    ]
    apis = {
      :SDL_LockJoysticks => :LockJoysticks,
      :SDL_UnlockJoysticks => :UnlockJoysticks,
      :SDL_HasJoystick => :HasJoystick,
      :SDL_GetJoysticks => :GetJoysticks,
      :SDL_GetJoystickNameForID => :GetJoystickNameForID,
      :SDL_GetJoystickPathForID => :GetJoystickPathForID,
      :SDL_GetJoystickPlayerIndexForID => :GetJoystickPlayerIndexForID,
      :SDL_GetJoystickGUIDForID => :GetJoystickGUIDForID,
      :SDL_GetJoystickVendorForID => :GetJoystickVendorForID,
      :SDL_GetJoystickProductForID => :GetJoystickProductForID,
      :SDL_GetJoystickProductVersionForID => :GetJoystickProductVersionForID,
      :SDL_GetJoystickTypeForID => :GetJoystickTypeForID,
      :SDL_OpenJoystick => :OpenJoystick,
      :SDL_GetJoystickFromID => :GetJoystickFromID,
      :SDL_GetJoystickFromPlayerIndex => :GetJoystickFromPlayerIndex,
      :SDL_AttachVirtualJoystick => :AttachVirtualJoystick,
      :SDL_DetachVirtualJoystick => :DetachVirtualJoystick,
      :SDL_IsJoystickVirtual => :IsJoystickVirtual,
      :SDL_SetJoystickVirtualAxis => :SetJoystickVirtualAxis,
      :SDL_SetJoystickVirtualBall => :SetJoystickVirtualBall,
      :SDL_SetJoystickVirtualButton => :SetJoystickVirtualButton,
      :SDL_SetJoystickVirtualHat => :SetJoystickVirtualHat,
      :SDL_SetJoystickVirtualTouchpad => :SetJoystickVirtualTouchpad,
      :SDL_SendJoystickVirtualSensorData => :SendJoystickVirtualSensorData,
      :SDL_GetJoystickProperties => :GetJoystickProperties,
      :SDL_GetJoystickName => :GetJoystickName,
      :SDL_GetJoystickPath => :GetJoystickPath,
      :SDL_GetJoystickPlayerIndex => :GetJoystickPlayerIndex,
      :SDL_SetJoystickPlayerIndex => :SetJoystickPlayerIndex,
      :SDL_GetJoystickGUID => :GetJoystickGUID,
      :SDL_GetJoystickVendor => :GetJoystickVendor,
      :SDL_GetJoystickProduct => :GetJoystickProduct,
      :SDL_GetJoystickProductVersion => :GetJoystickProductVersion,
      :SDL_GetJoystickFirmwareVersion => :GetJoystickFirmwareVersion,
      :SDL_GetJoystickSerial => :GetJoystickSerial,
      :SDL_GetJoystickType => :GetJoystickType,
      :SDL_GetJoystickGUIDInfo => :GetJoystickGUIDInfo,
      :SDL_JoystickConnected => :JoystickConnected,
      :SDL_GetJoystickID => :GetJoystickID,
      :SDL_GetNumJoystickAxes => :GetNumJoystickAxes,
      :SDL_GetNumJoystickBalls => :GetNumJoystickBalls,
      :SDL_GetNumJoystickHats => :GetNumJoystickHats,
      :SDL_GetNumJoystickButtons => :GetNumJoystickButtons,
      :SDL_SetJoystickEventsEnabled => :SetJoystickEventsEnabled,
      :SDL_JoystickEventsEnabled => :JoystickEventsEnabled,
      :SDL_UpdateJoysticks => :UpdateJoysticks,
      :SDL_GetJoystickAxis => :GetJoystickAxis,
      :SDL_GetJoystickAxisInitialState => :GetJoystickAxisInitialState,
      :SDL_GetJoystickBall => :GetJoystickBall,
      :SDL_GetJoystickHat => :GetJoystickHat,
      :SDL_GetJoystickButton => :GetJoystickButton,
      :SDL_RumbleJoystick => :RumbleJoystick,
      :SDL_RumbleJoystickTriggers => :RumbleJoystickTriggers,
      :SDL_SetJoystickLED => :SetJoystickLED,
      :SDL_SendJoystickEffect => :SendJoystickEffect,
      :SDL_CloseJoystick => :CloseJoystick,
      :SDL_GetJoystickConnectionState => :GetJoystickConnectionState,
      :SDL_GetJoystickPowerInfo => :GetJoystickPowerInfo,
    }
    args = {
      :SDL_LockJoysticks => [],
      :SDL_UnlockJoysticks => [],
      :SDL_HasJoystick => [],
      :SDL_GetJoysticks => [:pointer],
      :SDL_GetJoystickNameForID => [:uint],
      :SDL_GetJoystickPathForID => [:uint],
      :SDL_GetJoystickPlayerIndexForID => [:uint],
      :SDL_GetJoystickGUIDForID => [:uint],
      :SDL_GetJoystickVendorForID => [:uint],
      :SDL_GetJoystickProductForID => [:uint],
      :SDL_GetJoystickProductVersionForID => [:uint],
      :SDL_GetJoystickTypeForID => [:uint],
      :SDL_OpenJoystick => [:uint],
      :SDL_GetJoystickFromID => [:uint],
      :SDL_GetJoystickFromPlayerIndex => [:int],
      :SDL_AttachVirtualJoystick => [:pointer],
      :SDL_DetachVirtualJoystick => [:uint],
      :SDL_IsJoystickVirtual => [:uint],
      :SDL_SetJoystickVirtualAxis => [:pointer, :int, :short],
      :SDL_SetJoystickVirtualBall => [:pointer, :int, :short, :short],
      :SDL_SetJoystickVirtualButton => [:pointer, :int, :bool],
      :SDL_SetJoystickVirtualHat => [:pointer, :int, :uchar],
      :SDL_SetJoystickVirtualTouchpad => [:pointer, :int, :int, :bool, :float, :float, :float],
      :SDL_SendJoystickVirtualSensorData => [:pointer, :int, :ulong_long, :pointer, :int],
      :SDL_GetJoystickProperties => [:pointer],
      :SDL_GetJoystickName => [:pointer],
      :SDL_GetJoystickPath => [:pointer],
      :SDL_GetJoystickPlayerIndex => [:pointer],
      :SDL_SetJoystickPlayerIndex => [:pointer, :int],
      :SDL_GetJoystickGUID => [:pointer],
      :SDL_GetJoystickVendor => [:pointer],
      :SDL_GetJoystickProduct => [:pointer],
      :SDL_GetJoystickProductVersion => [:pointer],
      :SDL_GetJoystickFirmwareVersion => [:pointer],
      :SDL_GetJoystickSerial => [:pointer],
      :SDL_GetJoystickType => [:pointer],
      :SDL_GetJoystickGUIDInfo => [GUID.by_value, :pointer, :pointer, :pointer, :pointer],
      :SDL_JoystickConnected => [:pointer],
      :SDL_GetJoystickID => [:pointer],
      :SDL_GetNumJoystickAxes => [:pointer],
      :SDL_GetNumJoystickBalls => [:pointer],
      :SDL_GetNumJoystickHats => [:pointer],
      :SDL_GetNumJoystickButtons => [:pointer],
      :SDL_SetJoystickEventsEnabled => [:bool],
      :SDL_JoystickEventsEnabled => [],
      :SDL_UpdateJoysticks => [],
      :SDL_GetJoystickAxis => [:pointer, :int],
      :SDL_GetJoystickAxisInitialState => [:pointer, :int, :pointer],
      :SDL_GetJoystickBall => [:pointer, :int, :pointer, :pointer],
      :SDL_GetJoystickHat => [:pointer, :int],
      :SDL_GetJoystickButton => [:pointer, :int],
      :SDL_RumbleJoystick => [:pointer, :ushort, :ushort, :uint],
      :SDL_RumbleJoystickTriggers => [:pointer, :ushort, :ushort, :uint],
      :SDL_SetJoystickLED => [:pointer, :uchar, :uchar, :uchar],
      :SDL_SendJoystickEffect => [:pointer, :pointer, :int],
      :SDL_CloseJoystick => [:pointer],
      :SDL_GetJoystickConnectionState => [:pointer],
      :SDL_GetJoystickPowerInfo => [:pointer, :pointer],
    }
    retvals = {
      :SDL_LockJoysticks => :void,
      :SDL_UnlockJoysticks => :void,
      :SDL_HasJoystick => :bool,
      :SDL_GetJoysticks => :pointer,
      :SDL_GetJoystickNameForID => :pointer,
      :SDL_GetJoystickPathForID => :pointer,
      :SDL_GetJoystickPlayerIndexForID => :int,
      :SDL_GetJoystickGUIDForID => GUID.by_value,
      :SDL_GetJoystickVendorForID => :ushort,
      :SDL_GetJoystickProductForID => :ushort,
      :SDL_GetJoystickProductVersionForID => :ushort,
      :SDL_GetJoystickTypeForID => :int,
      :SDL_OpenJoystick => :pointer,
      :SDL_GetJoystickFromID => :pointer,
      :SDL_GetJoystickFromPlayerIndex => :pointer,
      :SDL_AttachVirtualJoystick => :uint,
      :SDL_DetachVirtualJoystick => :bool,
      :SDL_IsJoystickVirtual => :bool,
      :SDL_SetJoystickVirtualAxis => :bool,
      :SDL_SetJoystickVirtualBall => :bool,
      :SDL_SetJoystickVirtualButton => :bool,
      :SDL_SetJoystickVirtualHat => :bool,
      :SDL_SetJoystickVirtualTouchpad => :bool,
      :SDL_SendJoystickVirtualSensorData => :bool,
      :SDL_GetJoystickProperties => :uint,
      :SDL_GetJoystickName => :pointer,
      :SDL_GetJoystickPath => :pointer,
      :SDL_GetJoystickPlayerIndex => :int,
      :SDL_SetJoystickPlayerIndex => :bool,
      :SDL_GetJoystickGUID => GUID.by_value,
      :SDL_GetJoystickVendor => :ushort,
      :SDL_GetJoystickProduct => :ushort,
      :SDL_GetJoystickProductVersion => :ushort,
      :SDL_GetJoystickFirmwareVersion => :ushort,
      :SDL_GetJoystickSerial => :pointer,
      :SDL_GetJoystickType => :int,
      :SDL_GetJoystickGUIDInfo => :void,
      :SDL_JoystickConnected => :bool,
      :SDL_GetJoystickID => :uint,
      :SDL_GetNumJoystickAxes => :int,
      :SDL_GetNumJoystickBalls => :int,
      :SDL_GetNumJoystickHats => :int,
      :SDL_GetNumJoystickButtons => :int,
      :SDL_SetJoystickEventsEnabled => :void,
      :SDL_JoystickEventsEnabled => :bool,
      :SDL_UpdateJoysticks => :void,
      :SDL_GetJoystickAxis => :short,
      :SDL_GetJoystickAxisInitialState => :bool,
      :SDL_GetJoystickBall => :bool,
      :SDL_GetJoystickHat => :uchar,
      :SDL_GetJoystickButton => :bool,
      :SDL_RumbleJoystick => :bool,
      :SDL_RumbleJoystickTriggers => :bool,
      :SDL_SetJoystickLED => :bool,
      :SDL_SendJoystickEffect => :bool,
      :SDL_CloseJoystick => :void,
      :SDL_GetJoystickConnectionState => :int,
      :SDL_GetJoystickPowerInfo => :int,
    }
    symbols.each do |sym|
      begin
        attach_function apis[sym], sym, args[sym], retvals[sym]
      rescue FFI::NotFoundError => error
        $stderr.puts("[Warning] Failed to import #{sym} (#{error}).") if output_error
      end
    end
  end

end

